(function(){var t;t=jQuery,t(document).ready(function(){return window.nestedFormEvents.insertFields=function(e,i,n){var s;return s=t(n).closest(".controls").siblings(".tab-content"),s.append(e),s.children().last()}}),t(document).on("nested:fieldAdded","form",function(e){var i,n,s,o,r,a,l;if(n=e.field.addClass("tab-pane").attr("id","unique-id-"+(new Date).getTime()),o=t('<li><a data-toggle="tab" href="#'+n.attr("id")+'">'+n.children(".object-infos").data("object-label")+"</a></li>"),a=n.closest(".control-group"),i=a.children(".controls"),r=void 0!==i.data("nestedone"),s=i.children(".nav"),e=a.children(".tab-content"),l=i.find(".toggler"),s.append(o),t(window.document).trigger("rails_admin.dom_ready",[n,a]),o.children("a").tab("show"),r||s.select(":hidden").show("slow"),e.select(":hidden").show("slow"),l.addClass("active").removeClass("disabled").children("i").addClass("icon-chevron-down").removeClass("icon-chevron-right"),r)return i.find(".add_nested_fields").removeClass("add_nested_fields").html(n.children(".object-infos").data("object-label"))}),t(document).on("nested:fieldRemoved","form",function(e){var i,n,s,o,r,a,l,u;return o=e.field,r=o.closest(".control-group").children(".controls").children(".nav"),s=r.children("li").has('a[href="#'+o.attr("id")+'"]'),l=o.closest(".control-group"),n=l.children(".controls"),a=void 0!==n.data("nestedone"),u=n.find(".toggler"),(s.next().length?s.next():s.prev()).children("a:first").tab("show"),s.remove(),0===r.children().length&&(r.select(":visible").hide("slow"),u.removeClass("active").addClass("disabled").children("i").removeClass("icon-chevron-down").addClass("icon-chevron-right")),a&&(i=u.next(),i.addClass("add_nested_fields").html(i.data("add-label"))),o.find("[required]").each(function(){return t(this).removeAttr("required")})})}).call(this);