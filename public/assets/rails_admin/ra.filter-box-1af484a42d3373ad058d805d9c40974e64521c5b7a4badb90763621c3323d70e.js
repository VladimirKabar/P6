!function(t){var e;t.filters=e={append:function(e){e=e||{};var i=e.label,n=e.name,s=e.type,o=e.value,r=e.operator,a=e.select_options,l=e.index,h="f["+n+"]["+l+"][v]",u="f["+n+"]["+l+"][o]",d=null,c=null;switch(s){case"boolean":var d='<select class="input-sm form-control" name="'+h+'"><option value="_discard">...</option><option value="true"'+("true"==o?'selected="selected"':"")+">"+RailsAdmin.I18n.t("true")+'</option><option value="false"'+("false"==o?'selected="selected"':"")+">"+RailsAdmin.I18n.t("false")+'</option><option disabled="disabled">---------</option><option '+("_present"==o?'selected="selected"':"")+' value="_present">'+RailsAdmin.I18n.t("is_present")+"</option><option "+("_blank"==o?'selected="selected"':"")+' value="_blank"  >'+RailsAdmin.I18n.t("is_blank")+"</option></select>";break;case"date":c='<input size="20" class="date additional-fieldset default input-sm form-control" style="display:'+(r&&"default"!=r?"none":"inline-block")+';" type="text" name="'+h+'[]" value="'+(o[0]||"")+'" /> <input size="20" placeholder="-\u221e" class="date additional-fieldset between input-sm form-control" style="display:'+("between"==r?"inline-block":"none")+';" type="text" name="'+h+'[]" value="'+(o[1]||"")+'" /> <input size="20" placeholder="\u221e" class="date additional-fieldset between input-sm form-control" style="display:'+("between"==r?"inline-block":"none")+';" type="text" name="'+h+'[]" value="'+(o[2]||"")+'" />';case"datetime":case"timestamp":d=d||'<select class="switch-additionnal-fieldsets input-sm form-control" name="'+u+'"><option '+("default"==r?'selected="selected"':"")+' data-additional-fieldset="default" value="default">'+RailsAdmin.I18n.t("date")+"</option><option "+("between"==r?'selected="selected"':"")+' data-additional-fieldset="between" value="between">'+RailsAdmin.I18n.t("between_and_")+"</option><option "+("today"==r?'selected="selected"':"")+' value="today">'+RailsAdmin.I18n.t("today")+"</option><option "+("yesterday"==r?'selected="selected"':"")+' value="yesterday">'+RailsAdmin.I18n.t("yesterday")+"</option><option "+("this_week"==r?'selected="selected"':"")+' value="this_week">'+RailsAdmin.I18n.t("this_week")+"</option><option "+("last_week"==r?'selected="selected"':"")+' value="last_week">'+RailsAdmin.I18n.t("last_week")+'</option><option disabled="disabled">---------</option><option '+("_not_null"==r?'selected="selected"':"")+' value="_not_null">'+RailsAdmin.I18n.t("is_present")+"</option><option "+("_null"==r?'selected="selected"':"")+' value="_null" >'+RailsAdmin.I18n.t("is_blank")+"</option></select>",c=c||'<input size="25" class="datetime additional-fieldset default input-sm form-control" style="display:'+(r&&"default"!=r?"none":"inline-block")+';" type="text" name="'+h+'[]" value="'+(o[0]||"")+'" /> <input size="25" placeholder="-\u221e" class="datetime additional-fieldset between input-sm form-control" style="display:'+("between"==r?"inline-block":"none")+';" type="text" name="'+h+'[]" value="'+(o[1]||"")+'" /> <input size="25" placeholder="\u221e" class="datetime additional-fieldset between input-sm form-control" style="display:'+("between"==r?"inline-block":"none")+';" type="text" name="'+h+'[]" value="'+(o[2]||"")+'" />';break;case"enum":var p=o instanceof Array;d='<select style="display:'+(p?"none":"inline-block")+'" '+(p?"":'name="'+h+'"')+' data-name="'+h+'" class="select-single input-sm form-control"><option value="_discard">...</option><option '+("_present"==o?'selected="selected"':"")+' value="_present">'+RailsAdmin.I18n.t("is_present")+"</option><option "+("_blank"==o?'selected="selected"':"")+' value="_blank">'+RailsAdmin.I18n.t("is_blank")+'</option><option disabled="disabled">---------</option>'+a+'</select><select multiple="multiple" style="display:'+(p?"inline-block":"none")+'" '+(p?'name="'+h+'[]"':"")+' data-name="'+h+'[]" class="select-multiple input-sm form-control">'+a+'</select> <a href="#" class="switch-select"><i class="icon-'+(p?"minus":"plus")+'"></i></a>';break;case"string":case"text":case"belongs_to_association":d='<select class="switch-additionnal-fieldsets input-sm form-control" value="'+r+'" name="'+u+'"><option data-additional-fieldset="additional-fieldset"'+("like"==r?'selected="selected"':"")+' value="like">'+RailsAdmin.I18n.t("contains")+'</option><option data-additional-fieldset="additional-fieldset"'+("is"==r?'selected="selected"':"")+' value="is">'+RailsAdmin.I18n.t("is_exactly")+'</option><option data-additional-fieldset="additional-fieldset"'+("starts_with"==r?'selected="selected"':"")+' value="starts_with">'+RailsAdmin.I18n.t("starts_with")+'</option><option data-additional-fieldset="additional-fieldset"'+("ends_with"==r?'selected="selected"':"")+' value="ends_with">'+RailsAdmin.I18n.t("ends_with")+'</option><option disabled="disabled">---------</option><option '+("_not_null"==r?'selected="selected"':"")+' value="_not_null">'+RailsAdmin.I18n.t("is_present")+"</option><option "+("_null"==r?'selected="selected"':"")+' value="_null">'+RailsAdmin.I18n.t("is_blank")+"</option></select>",c='<input class="additional-fieldset input-sm form-control" style="display:'+("_blank"==r||"_present"==r?"none":"inline-block")+';" type="text" name="'+h+'" value="'+o+'" /> ';break;case"integer":case"decimal":case"float":d='<select class="switch-additionnal-fieldsets input-sm form-control" name="'+u+'"><option '+("default"==r?'selected="selected"':"")+' data-additional-fieldset="default" value="default">'+RailsAdmin.I18n.t("number")+"</option><option "+("between"==r?'selected="selected"':"")+' data-additional-fieldset="between" value="between">'+RailsAdmin.I18n.t("between_and_")+'</option><option disabled="disabled">---------</option><option '+("_not_null"==r?'selected="selected"':"")+' value="_not_null">'+RailsAdmin.I18n.t("is_present")+"</option><option "+("_null"==r?'selected="selected"':"")+' value="_null" >'+RailsAdmin.I18n.t("is_blank")+"</option></select>",c='<input class="additional-fieldset default input-sm form-control" style="display:'+(r&&"default"!=r?"none":"inline-block")+';" type="'+s+'" name="'+h+'[]" value="'+(o[0]||"")+'" /> <input placeholder="-\u221e" class="additional-fieldset between input-sm form-control" style="display:'+("between"==r?"inline-block":"none")+';" type="'+s+'" name="'+h+'[]" value="'+(o[1]||"")+'" /> <input placeholder="\u221e" class="additional-fieldset between input-sm form-control" style="display:'+("between"==r?"inline-block":"none")+';" type="'+s+'" name="'+h+'[]" value="'+(o[2]||"")+'" />';break;default:d='<input type="text" class="input-sm form-control" name="'+h+'" value="'+o+'"/> '}var f=t("<p>").addClass("filter form-search").append('<span class="label label-info form-label"><a href="#delete" class="delete"><i class="fa fa-trash-o fa-fw icon-white"></i>'+i+"</a></span>").append("&nbsp;"+d+"&nbsp;"+(c||""));t("#filters_box").append(f),f.find(".date, .datetime").datetimepicker({locale:RailsAdmin.I18n.locale,showTodayButton:!0,format:e.datetimepicker_format}),t("hr.filters_box:hidden").show("slow")}},t(document).on("click","#filters a",function(e){e.preventDefault(),t.filters.append({label:t(this).data("field-label"),name:t(this).data("field-name"),type:t(this).data("field-type"),value:t(this).data("field-value"),operator:t(this).data("field-operator"),select_options:t(this).data("field-options"),index:t.now().toString().slice(6,11),datetimepicker_format:t(this).data("field-datetimepicker-format")})}),t(document).on("click","#filters_box .delete",function(e){e.preventDefault(),form=t(this).parents("form"),t(this).parents(".filter").remove(),!t("#filters_box").children().length&&t("hr.filters_box:visible").hide("slow")}),t(document).on("click","#filters_box .switch-select",function(e){e.preventDefault();var i=t(this).siblings("select:visible"),n=t(this).siblings("select:hidden");n.attr("name",n.data("name")).show("slow"),i.attr("name",null).hide("slow"),t(this).find("i").toggleClass("icon-plus icon-minus")}),t(document).on("change","#filters_box .switch-additionnal-fieldsets",function(){var e=t(this).find("option:selected");(klass=t(e).data("additional-fieldset"))?(t(this).siblings(".additional-fieldset:not(."+klass+")").hide("slow"),t(this).siblings("."+klass).show("slow")):t(this).siblings(".additional-fieldset").hide("slow")})}(jQuery);